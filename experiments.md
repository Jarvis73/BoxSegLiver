

# Experiments

Version 2.0

* New data loader
* New evaluator

## UNet, LiTS

| config                     | fold 0      | fold 1      | fold 2          | fold 3      | fold 4      | test            | remark           |
| -------------------------- | ----------- | ----------- | --------------- | ----------- | ----------- | --------------- | ---------------- |
| 001_unet_noise_0_05        | 0.953       | 0.964       | 0.968           | 0.932       | 0.959       | 0.954/0.955     | Liver            |
|                            | 0.527       | 0.613       | **0.691**       | 0.597       | 0.522       | **0.650**/0.769 | Tumor            |
| 001_unet_rflip             |             | 0.957       | 0.969           |             |             |                 |                  |
|                            |             | 0.619       | 0.661           |             |             |                 |                  |
| 011_gnet_de_lr             |             |             | 0.970           |             |             |                 |                  |
|                            |             |             | 0.716           |             |             |                 |                  |
| 011_gnet_de_lrv2 (plateau) |             |             | 0.970           |             |             |                 |                  |
|                            |             |             | 0.736           |             |             |                 |                  |
| 011_gnet_de_rflip          | 0.959       | 0.968       | 0.970           | 0.939       | 0.965       |                 |                  |
|                            | 0.642       | 0.664       | **0.748**       | 0.675       | 0.637       |                 |                  |
| 012_gnet_sp_lr             |             |             | 0.970           |             |             |                 |                  |
|                            |             |             | 0.771           |             |             |                 |                  |
| 012_gnet_sp_lr_v2 (global) | 0.962/0.967 | 0.969/0.971 | 0.970/0.974     | 0.934       | 0.967/0.969 |                 |                  |
|                            | 0.731/0.733 | 0.743/0.802 | **0.783/0.827** | 0.728       | 0.722/0.858 |                 |                  |
| 012_gnet_sp_rflip          |             |             | 0.970           |             |             |                 |                  |
|                            |             |             | 0.764           |             |             |                 |                  |
| 012_gnet_sp_lr_v3          |             |             | 0.970           |             |             |                 |                  |
|                            |             |             | 0.777           |             |             |                 |                  |
| 013_gnet_sp_rand           | 0.960/0.966 |             | 0.970/0.973     |             |             |                 |                  |
|                            | 0.611/0.669 |             | 0.723/0.834     |             |             |                 | 0.749            |
| 013_gnet_sp_rand_25        |             |             | 0.970/0.973     |             |             |                 | 0.970/0.973      |
|                            |             |             | 0.699/0.832     |             |             |                 | 0.736/0.831      |
| 013_gnet_sp_rand_75        |             |             | 0.971/0.974     |             |             |                 |                  |
|                            |             |             | 0.721/0.830     |             |             |                 |                  |
| 014_gnet_both              | 0.962/0.967 |             | **0.971**/0.973 |             |             |                 |                  |
|                            | 0.725/0.737 |             | 0.780/0.821     |             |             |                 |                  |
| 015_gnet_de_vgg            |             |             | 0.968           |             |             |                 |                  |
|                            |             |             | 0.737           |             |             |                 |                  |
| 016_gnet_glcm              |             |             | 0.971           |             |             |                 |                  |
|                            |             |             | **0.746**       |             |             |                 |                  |
| 017_gnet_context_both_v2   |             |             | 0.968/0.971     |             |             |                 |                  |
|                            | ??          | ??          | **0.754/0.833** | ??          | ??          |                 |                  |
| 018_gnet_both_aa           |             |             | 0.970/0.973     |             |             |                 |                  |
|                            |             |             | 0.783/0.830     |             |             |                 |                  |
| 018_gnet_both_aa_decay     |             |             | 0.970/0.973     |             |             |                 |                  |
|                            |             |             | 0.787/0.836     |             |             |                 |                  |
| 018_gnet_both_aa_decay_v2  | 0.963/0.968 | 0.966/0.967 | 0.970/0.973     | 0.937/0.961 | 0.967/0.968 |                 |                  |
|                            | 0.722/0.731 | 0.729/0.781 | 0.786/**0.842** | 0.728/0.785 | 0.694/0.848 |                 | 105k 0.790/0.826 |
| 019_gnet_both2_aa          |             |             | 0.971/0.973     |             |             |                 |                  |
|                            |             |             | **0.793**/0.830 |             |             |                 |                  |
| 020_gnet_both2_aa_rand     |             |             |                 |             |             |                 |                  |
|                            |             |             |                 |             |             |                 |                  |



## Augmentation: Noise

| fold 2 | 0.03          | 0.05  | 0.07          |
| ------ | ------------- | ----- | ------------- |
| Liver  | 0.968         | 0.968 | 0.963         |
| Tumor  | 0.680 (final) | 0.691 | 0.664 (final) |

## Augmentation: Flip

| fold 1 | Test | no flip | flip left/right | flip up/down | flip left/right up/down |
| ------ | ---- | ------- | --------------- | ------------ | ----------------------- |
| Liver  | Off  |         |                 |              |                         |
|        | on   | ---     | 0.964           |              | 0.957                   |
| Tumor  | Off  |         |                 |              |                         |
|        | on   | ---     | 0.613           |              | 0.619                   |

## 012_gnet_sp_lr_v2 --> User global dice as metric

| checkpoint_best | Liver | Tumor | Liver-Mirror-1 | Tumor-Mirror-1 |
| --------------- | ----- | ----- | -------------- | -------------- |
| 100000          | 0.966 | 0.749 |                |                |
| 200000          | 0.970 | 0.751 |                |                |
| 300000          | 0.969 | 0.766 |                |                |
| 400000          | 0.970 | 0.772 | 0.970          | 0.773          |
| 500000          | 0.970 | 0.754 | 0.970          | 0.776          |
| 600000          | 0.970 | 0.758 | 0.970          | **0.783**      |
| 700000          |       |       | 0.970          | 0.777          |

## UNet Liver

|                | fold 0 | fold 1 | fold 2 | fold 3 | fold 4 |      |
| -------------- | ------ | ------ | ------ | ------ | ------ | ---- |
| 002_unet_liver | 0.942  |        | 0.950  |        |        |      |
|                |        |        |        |        |        |      |
|                |        |        |        |        |        |      |

